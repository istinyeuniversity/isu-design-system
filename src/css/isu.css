

@import '../styles/tokens.css';

/* Google Fonts - Space Grotesk and Poppins */
@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap');

/* Tailwind layers */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   DARK THEME IMPROVEMENTS
   ============================================ */

@layer base {
  :root {
    /* Fonts */
    --font-heading: 'Space Grotesk', sans-serif;
    --font-body: 'Poppins', sans-serif;

    /* Light Theme Colors */
    --isu-primary: #007fff;
    --isu-primary-dark: #0066cc;
    --isu-primary-light: #3399ff;
    --isu-neutral: #ededed;
    --isu-neutral-dark: #1a1a1a;

    /* Light Theme - Background Layers */
    --bg-primary: #ffffff;
    --bg-secondary: #f9fafb;
    --bg-tertiary: #f3f4f6;
    --bg-hover: #f5f5f5;

    /* Light Theme - Text Hierarchy */
    --text-primary: #111827;
    --text-secondary: #374151;
    --text-tertiary: #6b7280;
    --text-muted: #9ca3af;
    --text-disabled: #d1d5db;

    /* Light Theme - Component Colors */
    --border-primary: #e5e7eb;
    --border-secondary: #d1d5db;
    --border-focus: var(--isu-primary);
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);

    /* Semantic Colors */
    --success: #10b981;
    --success-bg: #ecfdf5;
    --success-border: #a7f3d0;
    --error: #ef4444;
    --error-bg: #fef2f2;
    --error-border: #fecaca;
    --warning: #f59e0b;
    --warning-bg: #fffbeb;
    --warning-border: #fde68a;
    --info: #3b82f6;
    --info-bg: #eff6ff;
    --info-border: #bfdbfe;
  }

  [data-theme="dark"] {
    /* Dark Theme - Primary Colors (daha soft blue) */
    --isu-primary: #60a5fa;
    --isu-primary-dark: #3b82f6;
    --isu-primary-light: #93c5fd;
    --isu-neutral: #404040;
    --isu-neutral-dark: #1a1a1a;

    /* Dark Theme - Background Layers (daha derin contrast) */
    --bg-primary: #0a0a0a;      /* Daha koyu base */
    --bg-secondary: #171717;    /* Elevated surface */
    --bg-tertiary: #262626;     /* Card background */
    --bg-hover: #333333;        /* Hover state */

    /* Dark Theme - Text Hierarchy (WCAG AA+ uyumlu) */
    --text-primary: #fafafa;    /* Daha soft beyaz */
    --text-secondary: #d4d4d4;  /* Secondary text */
    --text-tertiary: #a3a3a3;   /* Tertiary text */
    --text-muted: #737373;      /* Muted text */
    --text-disabled: #525252;   /* Disabled state */

    /* Dark Theme - Component Colors */
    --border-primary: #333333;
    --border-secondary: #404040;
    --border-focus: var(--isu-primary);
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.5);

    /* Dark Theme - Semantic Colors */
    --success: #34d399;
    --success-bg: rgba(16, 185, 129, 0.1);
    --success-border: rgba(16, 185, 129, 0.3);
    --error: #f87171;
    --error-bg: rgba(239, 68, 68, 0.1);
    --error-border: rgba(239, 68, 68, 0.3);
    --warning: #fbbf24;
    --warning-bg: rgba(245, 158, 11, 0.1);
    --warning-border: rgba(245, 158, 11, 0.3);
    --info: #60a5fa;
    --info-bg: rgba(59, 130, 246, 0.1);
    --info-border: rgba(59, 130, 246, 0.3);
  }

  body {
    font-family: var(--font-body);
    background-color: var(--bg-primary);
    color: var(--text-primary);
    transition: background-color 0.3s ease, color 0.3s ease;
  }
}

/* ============================================
   COMPONENTS LAYER
   ============================================ */
@layer components {
  
  /* ------ Button Components ------ */
  .isu-button {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-lg
           font-medium text-sm transition-all duration-200
           focus:outline-none focus:ring-2 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed;
    font-family: var(--font-body);
  }

  /* Button Sizes */
  .isu-button-sm { @apply px-3 py-1.5 text-xs; }
  .isu-button-md { @apply px-4 py-2 text-sm; }
  .isu-button-lg { @apply px-6 py-3 text-base; }
  .isu-button-xl { @apply px-8 py-4 text-lg; }

  /* Button Variants */
  .isu-button-primary {
    @apply isu-button text-white focus:ring-primary/20;
    background-color: var(--isu-primary);
    box-shadow: var(--shadow-sm);
  }

  .isu-button-primary:hover {
    background-color: var(--isu-primary-dark);
    box-shadow: var(--shadow-md);
  }

  .isu-button-secondary {
    @apply isu-button border focus:ring-neutral/20;
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    border-color: var(--border-primary);
    box-shadow: var(--shadow-sm);
  }

  .isu-button-secondary:hover {
    background-color: var(--hover-bg);
    box-shadow: var(--shadow-md);
  }

  .isu-button-ghost {
    @apply isu-button bg-transparent focus:ring-primary/20;
    color: var(--isu-primary);
  }

  .isu-button-ghost:hover {
    background-color: rgba(var(--isu-primary-rgb), 0.05);
  }

  .isu-button-outline {
    @apply isu-button bg-transparent border-2 focus:ring-primary/20;
    color: var(--isu-primary);
    border-color: var(--isu-primary);
  }

  .isu-button-outline:hover {
    background-color: var(--isu-primary);
    color: white;
  }

  .isu-button-success {
    @apply isu-button text-white focus:ring-green-500/20;
    background-color: var(--success);
  }

  .isu-button-success:hover {
    background-color: #059669;
  }

  .isu-button-warning {
    @apply isu-button text-white focus:ring-yellow-500/20;
    background-color: var(--warning);
  }

  .isu-button-warning:hover {
    background-color: #d97706;
  }

  .isu-button-error {
    @apply isu-button text-white focus:ring-red-500/20;
    background-color: var(--error);
  }

  .isu-button-error:hover {
    background-color: #dc2626;
  }

  /* ------ Form Components ------ */
  .isu-input {
    @apply w-full px-4 py-3 border-2 rounded-lg
           focus:outline-none focus:ring-2 transition-all duration-200;
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
    border-color: var(--border-primary);
    --tw-ring-color: rgb(0 127 255 / 0.2);
  }

  .isu-input::placeholder {
    color: var(--text-muted);
  }

  .isu-input:focus {
    border-color: var(--isu-primary);
  }

  .isu-input:disabled {
    background-color: var(--bg-secondary);
    color: var(--text-tertiary);
    cursor: not-allowed;
    opacity: 0.6;
  }

  .isu-input.error {
    border-color: var(--error);
    --tw-ring-color: rgba(var(--error-rgb), 0.2);
  }

  .isu-textarea {
    @apply isu-input min-h-32;
    resize: vertical;
  }

  .isu-select {
    @apply isu-input cursor-pointer appearance-none bg-no-repeat;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.75rem center;
    background-size: 1rem;
    padding-right: 2.5rem;
    color: var(--text-primary);
  }

  .isu-checkbox {
    @apply w-5 h-5 text-primary border-neutral/30 rounded
           focus:ring-primary/20 focus:ring-2 focus:ring-offset-0
           checked:bg-primary checked:border-primary
           transition-all duration-200 cursor-pointer;
  }

  .isu-radio {
    @apply w-5 h-5 text-primary border-neutral/30 rounded-full
           focus:ring-primary/20 focus:ring-2 focus:ring-offset-0
           checked:bg-primary checked:border-primary
           transition-all duration-200 cursor-pointer;
  }

  .isu-form-group { @apply mb-6; }
  
  .isu-form-label {
    @apply block text-sm font-medium text-gray-700 mb-2;
    font-family: var(--font-body);
  }

  .isu-form-help {
    @apply text-sm text-gray-500 mt-1;
    font-family: var(--font-body);
  }

  .isu-form-error {
    @apply text-sm text-red-600 mt-1;
    font-family: var(--font-body);
  }

  /* ------ Layout Components ------ */
  .isu-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .isu-grid { @apply grid gap-4; }
  .isu-grid-2 { @apply grid grid-cols-1 md:grid-cols-2 gap-4; }
  .isu-grid-3 { @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4; }
  .isu-grid-4 { @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4; }

  .isu-flex { @apply flex items-center; }
  .isu-flex-between { @apply flex items-center justify-between; }
  .isu-flex-center { @apply flex items-center justify-center; }
  .isu-flex-column { @apply flex flex-col; }

  .isu-card {
    @apply rounded-lg border-2 p-6 shadow-sm;
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    border-color: var(--border-primary);
  }

  .isu-card-hover {
    @apply isu-card transition-shadow cursor-pointer;
  }

  .isu-card-hover:hover {
    background-color: var(--bg-tertiary);
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  }

  .isu-section { @apply py-12 lg:py-16; }
  .isu-section-sm { @apply py-8 lg:py-12; }
  .isu-section-lg { @apply py-16 lg:py-24; }

  .isu-logo { @apply h-12 w-auto; }

  /* ------ Typography Components ------ */
  .isu-heading-1 {
    @apply text-5xl lg:text-6xl font-bold mb-6 leading-tight;
    font-family: var(--font-heading);
    color: var(--text-primary);
  }

  .isu-heading-2 {
    @apply text-4xl lg:text-5xl font-bold mb-5 leading-tight;
    font-family: var(--font-heading);
    color: var(--text-primary);
  }

  .isu-heading-3 {
    @apply text-3xl lg:text-4xl font-semibold mb-4 leading-snug;
    font-family: var(--font-heading);
    color: var(--text-primary);
  }

  .isu-heading-4 {
    @apply text-2xl lg:text-3xl font-semibold mb-3 leading-snug;
    font-family: var(--font-heading);
    color: var(--text-primary);
  }

  .isu-heading-5 {
    @apply text-xl lg:text-2xl font-medium mb-2 leading-normal;
    font-family: var(--font-heading);
    color: var(--text-secondary);
  }

  .isu-heading-6 {
    @apply text-lg lg:text-xl font-medium mb-2 leading-normal;
    font-family: var(--font-heading);
    color: var(--text-secondary);
  }

  .isu-body {
    @apply text-base leading-relaxed;
    font-family: var(--font-body);
    color: var(--text-secondary);
  }

  .isu-body-sm {
    @apply text-sm leading-relaxed;
    font-family: var(--font-body);
    color: var(--text-tertiary);
  }

  .isu-body-lg {
    @apply text-lg leading-relaxed;
    font-family: var(--font-body);
    color: var(--text-secondary);
  }

  .isu-lead {
    @apply text-xl leading-relaxed font-light;
    font-family: var(--font-body);
    color: var(--text-primary);
  }

  .isu-caption {
    @apply text-sm;
    font-family: var(--font-body);
    color: var(--text-tertiary);
  }

  .isu-caption-sm {
    @apply text-xs;
    font-family: var(--font-body);
    color: var(--text-muted);
  }

  .isu-link {
    @apply hover:text-primary-dark transition-colors underline;
    font-family: var(--font-body);
    color: var(--isu-primary);
  }

  .isu-link-subtle {
    @apply hover:text-gray-900 transition-colors;
    font-family: var(--font-body);
    color: var(--text-secondary);
  }

  .isu-quote {
    @apply border-l-4 pl-6 italic;
    font-family: var(--font-body);
    border-color: var(--isu-primary);
    color: var(--text-secondary);
  }

  .isu-quote-author {
    @apply text-sm mt-2 not-italic;
    font-family: var(--font-body);
    color: var(--text-tertiary);
  }

  /* ------ Navigation Components ------ */
  .isu-breadcrumb {
    @apply flex items-center space-x-2 text-sm text-gray-500 mb-4;
    font-family: var(--font-body);
  }

  .isu-breadcrumb-link {
    @apply hover:text-primary transition-colors;
    font-family: var(--font-body);
  }

  .isu-breadcrumb-separator {
    @apply mx-2 text-gray-400;
    font-family: var(--font-body);
  }

  .isu-pagination {
    @apply flex items-center justify-center space-x-1 mt-8;
  }

  .isu-pagination-link {
    @apply px-3 py-2 text-sm font-medium rounded-md transition-colors
           text-gray-600 hover:text-primary hover:bg-primary/5;
    font-family: var(--font-body);
  }

  .isu-pagination-link.active {
    @apply text-primary bg-primary/10;
  }

  .isu-pagination-prev,
  .isu-pagination-next {
    @apply px-2 py-2 text-gray-400 hover:text-primary transition-colors;
    font-family: var(--font-body);
  }

  /* ------ Feedback Components ------ */
  .isu-alert {
    @apply p-4 rounded-lg mb-4 border;
    font-family: var(--font-body);
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
    border-color: var(--border-primary);
  }

      .isu-alert-success {
        background-color: var(--success-bg);
        color: var(--success);
        border-color: var(--success-border);
      }

      .isu-alert-error {
        background-color: var(--error-bg);
        color: var(--error);
        border-color: var(--error-border);
      }

      .isu-alert-warning {
        background-color: var(--warning-bg);
        color: var(--warning);
        border-color: var(--warning-border);
      }

      .isu-alert-info {
        background-color: var(--info-bg);
        color: var(--info);
        border-color: var(--info-border);
      }

  .isu-alert-icon { @apply flex items-start space-x-3; }
  .isu-alert-content { @apply flex-1; }
  
  .isu-alert-title {
    @apply font-medium mb-1;
    font-family: var(--font-heading);
  }

  .isu-alert-description {
    @apply text-sm opacity-90;
    font-family: var(--font-body);
  }

  .isu-badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
    font-family: var(--font-body);
  }

  .isu-badge-primary {
    background-color: rgba(96, 165, 250, 0.1);
    color: var(--isu-primary);
  }

  .isu-badge-secondary {
    background-color: var(--bg-tertiary);
    color: var(--text-secondary);
  }

      .isu-badge-success {
        background-color: var(--success-bg);
        color: var(--success);
      }

      .isu-badge-warning {
        background-color: var(--warning-bg);
        color: var(--warning);
      }

      .isu-badge-error {
        background-color: var(--error-bg);
        color: var(--error);
      }

  .isu-spinner {
    @apply animate-spin rounded-full border-2;
    border-color: var(--border-primary);
    border-top-color: var(--isu-primary);
  }

  .isu-spinner-sm { @apply isu-spinner w-4 h-4; }
  .isu-spinner-md { @apply isu-spinner w-6 h-6; }
  .isu-spinner-lg { @apply isu-spinner w-8 h-8; }

  .isu-progress {
    @apply w-full rounded-full h-2;
    background-color: var(--border-primary);
  }

  .isu-progress-bar {
    @apply h-2 rounded-full transition-all duration-300;
    background-color: var(--isu-primary);
  }

  .isu-toast-item {
    @apply p-4 rounded-lg shadow-lg border mb-3 transform transition-all duration-300;
    font-family: var(--font-body);
  }

  .isu-toast-success {
    @apply isu-toast-item;
    background-color: var(--success-bg);
    color: var(--success);
    border-color: var(--success-border);
  }

  .isu-toast-error {
    @apply isu-toast-item;
    background-color: var(--error-bg);
    color: var(--error);
    border-color: var(--error-border);
  }

  .isu-toast-warning {
    @apply isu-toast-item;
    background-color: var(--warning-bg);
    color: var(--warning);
    border-color: var(--warning-border);
  }
}

/* ============================================
   DARK THEME SPECIFIC IMPROVEMENTS
   ============================================ */

@layer components {

  /* Button dark theme overrides */
  [data-theme="dark"] .isu-button-secondary {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
    border-color: var(--border-primary);
  }

  [data-theme="dark"] .isu-button-secondary:hover {
    background-color: var(--bg-hover);
    border-color: var(--border-secondary);
  }

  /* Input dark theme enhancements */
  [data-theme="dark"] .isu-input {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    border-color: var(--border-primary);
  }

  [data-theme="dark"] .isu-input:focus {
    background-color: var(--bg-tertiary);
    border-color: var(--isu-primary);
    box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.2);
  }

  [data-theme="dark"] .isu-input::placeholder {
    color: var(--text-muted);
  }

  /* Card dark theme improvements */
  [data-theme="dark"] .isu-card {
    background-color: var(--bg-tertiary);
    border-color: var(--border-primary);
    box-shadow: var(--shadow-sm);
  }

  [data-theme="dark"] .isu-card-hover:hover {
    background-color: var(--bg-hover);
    box-shadow: var(--shadow-md);
    border-color: var(--border-secondary);
  }

  /* Alert dark theme colors */
  [data-theme="dark"] .isu-alert-success {
    background-color: var(--success-bg);
    color: var(--success);
    border-color: var(--success-border);
  }

  [data-theme="dark"] .isu-alert-error {
    background-color: var(--error-bg);
    color: var(--error);
    border-color: var(--error-border);
  }

  [data-theme="dark"] .isu-alert-warning {
    background-color: var(--warning-bg);
    color: var(--warning);
    border-color: var(--warning-border);
  }

  [data-theme="dark"] .isu-alert-info {
    background-color: var(--info-bg);
    color: var(--info);
    border-color: var(--info-border);
  }

  /* Badge dark theme */
  [data-theme="dark"] .isu-badge-success {
    background-color: var(--success-bg);
    color: var(--success);
  }

  [data-theme="dark"] .isu-badge-error {
    background-color: var(--error-bg);
    color: var(--error);
  }

  [data-theme="dark"] .isu-badge-warning {
    background-color: var(--warning-bg);
    color: var(--warning);
  }

  /* Link dark theme */
  [data-theme="dark"] .isu-link {
    color: var(--isu-primary-light);
  }

  [data-theme="dark"] .isu-link:hover {
    color: var(--isu-primary);
  }

  [data-theme="dark"] .isu-link-subtle {
    color: var(--text-tertiary);
  }

  [data-theme="dark"] .isu-link-subtle:hover {
    color: var(--text-primary);
  }

  /* Select arrow i√ßin dark theme */
  [data-theme="dark"] .isu-select {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23a3a3a3' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
  }
}


/* ============================================
   THEME TOGGLE UTILITY
   ============================================ */

@layer utilities {

  /* Smooth theme transitions */
  * {
    transition-property: background-color, border-color, color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 200ms;
  }

  /* Prevent transitions on theme toggle */
  .theme-transition-disable * {
    transition: none !important;
  }
}

/* ISU Utilities - harici dosya varsa buradan import */
@import './utilities.css';